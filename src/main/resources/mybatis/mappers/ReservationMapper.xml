<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="hotelproject.mappers.ReservationMapper">

    <insert id="insertReservation">
        INSERT INTO reservations (user_id, hotel_id, check_in, check_out, status, created_at)
        VALUES (#{userId}, #{hotelId}, #{checkIn}, #{checkOut}, 'PENDING', NOW());
    </insert>

    <select id="getReservationsByUserId" resultType="hotelproject.repositories.vo.ReservationVo">
        SELECT * FROM reservations WHERE user_id = #{userId} ORDER BY created_at DESC;
    </select>

    <update id="updateReservationStatus">
        UPDATE reservations SET status = #{status} WHERE id = #{id};
    </update>

</mapper>
